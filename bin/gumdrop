#!/usr/bin/env ruby
# encoding: utf-8
#  Copyright (c) 2011 M@ McCray. All rights reserved.

require 'rubygems'
require 'bundler/setup'
require 'gumdrop'
Bundler.require if File.exists?('Gemfile')

begin
  if Gumdrop.in_site_folder?
    # Pre-Fetch Site and load Gumdrop file
    Gumdrop.site()
    Gumdrop::CLI::Internal.start
  else
    Gumdrop::CLI::External.start
  end
rescue Interrupt => e
  puts "\nQuitting..."
  exit 1
rescue SystemExit => e
  exit e.status
end